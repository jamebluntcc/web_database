{% extends 'base_table.html' %}
{% block title %}下机信息表{% endblock %}

{% block table_js_init %}
<script>
    $(function () {
        var dg = $('#dg').datagrid({
            queryParams:{
                name: 'down_machine_table'
            }
          });
        dg.datagrid('enableFilter',[{
            filterBtnIconCls:'icon-filter',
            field: 'down_quant',
            type: 'numberbox',
            options: { precision: 2 },
            op: ['equal', 'notequal', 'less', 'greater']
        },{
            filterBtnIconCls:'icon-filter',
            field: 'reads',
            type: 'numberbox',
            options: { precision: 2 },
            op: ['equal', 'notequal', 'less', 'greater']
        },{
            filterBtnIconCls:'icon-filter',
            field: 'q30',
            type: 'numberbox',
            options: { precision: 2 },
            op: ['equal', 'notequal', 'less', 'greater']
        }]);
    })
</script>
{% endblock %}

{% block table_html_init %}
<table id="dg" title="下机信息表" class="easyui-datagrid"
       url="/show_data"
       toolbar="#toolbar"
       rownumbers="true" fitColumns="true" idField="sample_id">
    <thead>
    <tr>
        <th field="ck" checkbox="true"></th>
        <th field="id" width="50" align="center">序号</th>
        <th field="project_id" width="50" align="center">项目编号</th>
        <th field="sample_name" width="50" align="center" sortable="true">样品名称</th>
        <th field="sample_id" width="50" align="center" sortable="true">样品编号</th>
        <th field="down_quant" width="50" align="center">下机数据量</th>
        <th field="reads" width="50" align="center">Reads</th>
        <th field="q30" width="50" align="center">Q30</th>
        <th field="comment" width="100" align="center">备注</th>
        <th field="time" width="150" align="center" sortable="true">时间</th>
    </tr>
    </thead>
</table>
{% endblock %}

{% block tablename %}下机信息表{% endblock %}

{% block table_form %}
<form id="fm" method="post" novalidate style="margin:0;padding:20px 50px">
    <div style="margin-bottom:20px;font-size:14px;border-bottom:1px solid #ccc">下机信息</div>
    <div style="margin-bottom:10px">
        <input name="id" class="easyui-textbox" required="true" label="序号:" style="width:100%">
    </div>
    <div style="margin-bottom:10px">
        <input name="project_id" class="easyui-textbox" required="true" label="项目编号:" style="width:100%">
    </div>
    <div style="margin-bottom:10px">
        <input name="sample_name" class="easyui-textbox" required="true" label="样品名称:" style="width:100%">
    </div>
    <div style="margin-bottom:10px">
        <input name="sample_id" class="easyui-textbox" required="true" label="样品编号:" style="width:100%">
    </div>
    <div style="margin-bottom:10px">
        <input name="down_quant" class="easyui-textbox" required="true" label="下机数据量:" style="width:100%">
    </div>
    <div style="margin-bottom:10px">
        <input name="reads" class="easyui-textbox" required="true" label="Reads:" style="width:100%">
    </div>
    <div style="margin-bottom:10px">
        <input name="q30" class="easyui-textbox" required="true" label="Q30:" style="width:100%">
    </div>
    <div style="margin-bottom:10px">
        <input name="comment" class="easyui-textbox" required="true" label="备注:" style="width:100%">
    </div>
    <div style="margin-bottom:10px">
        <input name="time" class="easyui-textbox" required="true" label="时间:" style="width:100%">
    </div>
</form>
{% endblock %}

{% block form %}
<div id="uploadfile" style="float: left;width: 100px;">
    <form action="/upload_down_machine_table" method=post enctype=multipart/form-data>
        <input type="file" name="file">
        <input type="submit" value="Upload">
    </form>
</div>
<div class="input-projectid" style="float: right;width: 300px">
    输入下载项目编号:<input id="project_id" type="text"/>
    <button onclick='export_table_info()'>导出下机数据</button>
</div>
{% endblock %}

{% block table_name %}var table_name = 'down_machine_table';{% endblock %}
